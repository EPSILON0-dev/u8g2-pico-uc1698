#include "pico/stdlib.h"
#include <stdio.h>
#include "u8g2_port.hpp"

U8G2_UC1698_240X64_F_4W_HW_SPI u8g2(U8G2_R0);

int main() {
    stdio_init_all();
    sleep_ms(2000);

    u8g2.begin();

    static const unsigned char image_IMG_0316_bits[] U8X8_PROGMEM = {0x00,0x80,0x00,0x08,0xf8,0x00,0x00,0x01,0x80,0x00,0x00,0x00,0x80,0x00,0x18,0x90,0x07,0x80,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x30,0x10,0x18,0x40,0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x20,0x10,0x60,0x60,0x00,0x00,0x01,0x00,0x00,0x40,0x00,0x40,0x10,0xc0,0x20,0x00,0x00,0x01,0x00,0x00,0x40,0x00,0xc0,0x10,0x80,0x31,0x00,0x00,0x01,0x00,0x00,0x20,0x00,0x80,0x21,0x00,0x12,0x00,0x00,0x01,0x00,0x00,0x20,0x00,0x00,0x23,0x00,0x14,0x00,0x00,0x01,0x00,0x00,0x20,0x00,0x00,0xe2,0x00,0x18,0x00,0x00,0x01,0x00,0x00,0x20,0x00,0x00,0x1c,0x00,0x10,0x00,0x00,0x01,0x00,0x00,0x20,0x00,0x00,0x06,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x20,0x00,0x00,0x03,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x20,0x00,0x80,0xff,0x03,0x00,0x00,0x00,0x01,0x00,0x00,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x00,0x00,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x00,0x00,0x40,0x00,0x00,0x00,0x00,0xfe,0x3f,0x40,0x00,0x00,0x00,0x80,0xc0,0xff,0x0f,0x00,0x3f,0x04,0x20,0x00,0x00,0x00,0x80,0x00,0xe1,0x0f,0x00,0x3f,0x08,0x10,0x00,0x00,0x00,0x00,0x81,0xe0,0x0f,0x00,0x3f,0x08,0x18,0x00,0x00,0x00,0x00,0x81,0xe0,0x0f,0x00,0x3f,0x00,0x04,0x00,0x00,0x00,0x00,0x86,0xe0,0x0f,0x00,0x3f,0x10,0xe7,0x01,0x00,0x00,0x1c,0x80,0xe0,0x0f,0x00,0x3f,0x10,0x80,0x01,0x00,0x00,0x88,0x4f,0xe0,0x0f,0x00,0x3f,0x10,0x80,0x00,0x00,0x00,0x18,0x00,0xe0,0x0f,0x00,0x3f,0x10,0x40,0x00,0x00,0x00,0x10,0x00,0xe0,0x0f,0x00,0x1f,0x10,0x20,0x00,0x00,0x00,0x20,0x80,0xc0,0x07,0x00,0x0e,0x00,0x10,0x00,0x00,0x00,0x40,0x80,0x80,0x03,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x80,0x01,0x00,0xc0,0x03,0x00,0x00,0x04,0x00,0x00,0x00,0x00,0x71,0x00,0x00,0x00,0x00,0x12,0x08,0x00,0x00,0x00,0x00,0x49,0x02,0x00,0x00,0x00,0x0b,0x08,0x00,0x00,0x00,0x80,0xc0,0x01,0x00,0x00,0x00,0x0c,0x10,0x00,0x00,0x00,0x80,0x40,0x00,0x00,0x00,0x01,0x00,0x30,0x00,0x00,0x00,0xc0,0x00,0x00,0x80,0xfd,0x00,0x00,0x20,0x00,0x00,0x00,0x40,0x00,0x00,0x78,0x00,0x00,0x00,0x40,0x00,0x00,0x00,0x40,0x00,0x00,0x00,0x00,0x00,0x10,0x70,0x00,0x00,0x00,0xc0,0x7f,0x00,0x00,0x00,0x00,0xdc,0x07,0x00,0x00,0x00,0x00,0x80,0x01,0x00,0x00,0x00,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x0f,0x00,0x00,0xe0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x78,0x00,0x00,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xc8,0x0f,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x00,0x00,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x01,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x00,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x00,0x00,0x00,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x00,0x00,0x00,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0xf0,0x02,0x00,0x00,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x01,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x10,0x00,0x00,0x00};
    u8g2.clearBuffer();
    u8g2.setFontMode(1);
    u8g2.setBitmapMode(1);
    u8g2.drawXBMP(0, 0, 83, 64, image_IMG_0316_bits);
    u8g2.setFont(u8g2_font_6x10_tr);
    u8g2.drawStr(123, 36, "don't you?");
    u8g2.drawStr(83, 24, "You like bit-banging SPI");
    u8g2.setFont(u8g2_font_4x6_tr);
    u8g2.drawStr(175, 63, "Ported by epsiii");
    u8g2.sendBuffer();

    u8g2.setContrast(105);

    bool ps = 0;
    while (1) {   
        u8g2.setPowerSave(ps);
        ps ^= 1;
        sleep_ms(2000);
    }
}